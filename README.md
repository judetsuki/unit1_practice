# Проект 2: Система управления задачами 
### Описание
Приложение для управления задачами, позволяющее пользователям создавать, редактировать и отслеживать выполнение задач, а администраторам — управлять пользователями и проектами.

### Клиентская архитектура
- **Клиент:** Десктопное консольное приложение на Python с использованием библиотеки `prompt_toolkit` для интерактивного интерфейса.

### База данных
- PostgreSQL с таблицами:
  - `tasks` (id, title, description, status, due_date, user_id)
  - `users` (id, name, email, role)
  - `projects` (id, name, description, user_id)

### Реализация клиент-серверного приложения

#### Клиент
- Отображение списка задач, фильтрация по статусу или сроку выполнения.
- Возможность создания, редактирования, удаления задач, просмотра истории изменений.
- Роли: администратор (управление пользователями и проектами) и пользователь (управление своими задачами).

#### База данных
- Использование SQLAlchemy для ORM.
- Миграции через Alembic для управления схемой базы данных.

#### MVC-подобный шаблон

- **Model:**  
  Классы `Task`, `User`, `Project` для представления данных.  
  Взаимодействие с сервером через HTTP-запросы для получения и обновления данных.

- **View:**  
  Консольный интерфейс с меню и таблицами (используя `tabulate` для отображения данных).  
  Методы для отображения списков задач, пользователей и проектов.

- **Controller:**  
  Класс `TaskController`, который обрабатывает ввод пользователя, вызывает методы модели для обработки данных и обновляет представление.  
  Пример: метод `create_task(title, description, due_date)` создает новую задачу и обновляет UI.

### Бизнес-логика на клиенте
- **Вычисления:** Подсчёт количества активных задач пользователя на основе данных с сервера.
- **Модификация:** Формирование запроса на создание/редактирование задачи с проверкой статуса (например, нельзя редактировать завершённую задачу).
- **Агрегация:** Составление отчёта о просроченных задачах (например, фильтрация задач с `due_date < today`).
- **Отправка данных:** Отправка обновлённых данных (например, статуса задачи) на сервер через POST/PATCH-запросы.

### Юнит-тесты
- **Фреймворк:** `pytest`.
- **Тесты:**  
  - Модель: проверка корректности ответов от сервера (локальной программы).  
  - Контроллер: тестирование логики создания задачи (например, нельзя создать задачу без названия).  
  - Представление: проверка форматирования таблиц для вывода в консоль.  
- **Моки:** Использование `unittest.mock` для эмуляции HTTP-запросов к серверу.

### Тестирование и отладка
- **Интеграционное тестирование:** Проверка взаимодействия клиента и сервера (например, успешное создание записи в `tasks` при добавлении задачи).
- **Нагрузочное тестирование:** Отправка множества запросов на сервер для проверки производительности (с использованием `locust`).
- **Отладка:** Использование `pdb` для пошагового выполнения кода клиента и `logging` для отслеживания ошибок на сервере.

### Сценарии тестирования
- Попытка создать задачу без названия.
- Редактирование задачи с некорректной датой выполнения.
- Проверка отображения отчёта о просроченных задачах.
